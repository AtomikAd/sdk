"use strict";var Atomik=function(){this.wsBaseURL="https://ws.atomikad.com/action.php",this.ads=[],this.passbackExternalCallback=null,this.retryCount=0,this.semanticObjectRequested=!1,this.semanticObjectForPage=null,this.admantxClusters=null,this.brandProtectionCluster=null};Atomik.prototype.scanPage=function(){for(var e,t,n,o,i={src_page_uri:window.location.href,images:[]},a=this.getAllElementsWithAttribute("atomik-pl"),r=0,s=a.length;r<s;r++){var l,m=null;"IMG"!=a[r].tagName?null!=(l=a[r].querySelector(":scope > img"))&&(m=l.src):m=a[r].src,null!=m&&i.images.push({url:m})}0!=i.images.length?(t=(e=this).wsBaseURL+"?method=enqueue",(n=new XMLHttpRequest).open("POST",t,!0),n.onreadystatechange=function(){4===n.readyState&&(200===n.status||202===n.status?e.consoleLog("ATOMIKSDK ENQUEUE RESPONSE OK"):e.consoleLog("ATOMIKSDK ENQUEUE ERROR: "+n.status+" - "+n.statusText))},o=JSON.stringify(i),n.send(o)):this.consoleLog("ATOMIKSDK NO IMAGE TO ENQUEUE")},Atomik.prototype.getPlacementLessTags=function(){var e={src_page_uri:window.location.href,force_cache_update:null!==Atomik.getQueryParameterByName("atk-debug")},s=this,t=this.wsBaseURL+"?method=get_placementless_rules",l=new XMLHttpRequest;l.open("POST",t,!0),l.onreadystatechange=function(){if(4===l.readyState){if(200===l.status||202===l.status){var e=l.responseText;s.consoleLog("ATOMIKSDK PL-LESS RESPONSE OK");try{for(var t=window.location.href,n=JSON.parse(e),o=0;o<n.length;o++){var i=n[o];if(i.placement&&i.url_expression&&i.css_selector)if(new RegExp(i.url_expression,"i").test(t)){var a=document.querySelectorAll(i.css_selector);if(a&&0<a.length)for(var r=0;r<a.length;r++){a[r].setAttribute("atomik-pl",i.placement),s.consoleLog("ATOMIKSDK PL-LESS ADDED PLACEMENT ON IMG: "+i.placement)}}}}catch(e){s.consoleLog("ATOMIKSDK PL-LESS ERROR: "+e.message)}}else s.consoleLog("ATOMIKSDK PL-LESS ERROR: "+l.status+" - "+l.statusText);"www.subito.it"!=window.location.hostname&&"www.commentimemorabili.it"!=window.location.hostname&&"www.vanityfair.it"!=window.location.hostname&&s.scanPage(),s.getAllClustersAndCreateAd()}};var n=JSON.stringify(e);l.send(n)},Atomik.prototype.getAllClustersAndCreateAd=function(){var e=this.getAllElementsWithAttribute("atomik-pl");if(0==e.length&&this.retryCount<5){var t=this;setTimeout(function(){t.consoleLog("ATOMIKSDK RETRY BECAUSE NO PLACEMENTS FOUND"),t.retryCount+=1,t.getPlacementLessTags()},1e3)}else{Atomik.track_audience();for(var n=[],o=0,i=e.length;o<i;o++){null!==Atomik.getQueryParameterByName("atk-debug-pb")&&e[o].setAttribute("atomik-pl","atomik/ydqr669bcrqfe48xiwwtcg7nj");var a,r,s,l=e[o].getAttribute("atomik-pl");-1===n.indexOf(l)?("atomik/ydqr669bcrqfe48xiwwtcg7nj"!=l&&n.push(l),Atomik[a="privatePassbackCallback"+o]='<script>window.top.Atomik.getInstance().consoleLog("ATOMIKSDK PASSBACK ON PLACEMENT: '+l+'");window.top.Atomik.getInstance().createSpotXTag("'+l+'");<\/script>',Atomik[r="privateZodiakPassbackCallback"+o]='<script>window.top.Atomik.getInstance().consoleLog("ATOMIKSDK PASSBACK ON ZODIAK: '+l+'");window.top.Atomik.getInstance().createSpotXTag("'+l+'");<\/script>',s={placement:l,placement_name:null,targetImage:e[o],passbackName:a,zodiakPassbackName:r,clusters:null,clusterLabels:null,adTagID:null,alreadyInView:!1,adContainer:null,semanticEnabled:!1,semanticClusters:null,semanticBrandSafety:null,objects:null,celebrities:null,semanticRetryCount:3,zodiakTag:null,pt1:null,pt8:null,pt9:null,zodiakTagId:null,sizes:null,spotxTag:null,closed:!1},this.ads.push(s),"www.commentimemorabili.it"!=window.location.hostname&&"www.vanityfair.it"!=window.location.hostname&&"www.subito.it"!=window.location.hostname&&"IMG"==e[o].tagName?this.getClustersForImg(e[o]):this.getAdTagForImg(e[o])):this.consoleLog("ATOMIKSDK SKIP ALREADY USED PLACEMENT")}}},Atomik.prototype.getClustersForImg=function(y){var e=this.sanitizeImgUrl(y.src),t={image_url_hash:Atomik.md5(e)},w=this,n=this.wsBaseURL+"?method=get_clusters",v=new XMLHttpRequest;v.open("POST",n,!0),v.onreadystatechange=function(){if(4===v.readyState){if(200===v.status||202===v.status){var e=v.responseText;w.consoleLog("ATOMIKSDK GET-CLUSTERS RESPONSE FOR IMAGE ["+y.src+"]: "+e),"function"==typeof atomikImageClusterReady&&atomikImageClusterReady(e);try{var t=JSON.parse(e),n=w.getAdSlotFromImage(y);if(n.clusters=t,n.clusters.tensorflow&&0<n.clusters.tensorflow.length){for(var o,t=[],i=0;i<n.clusters.tensorflow.length;i++)-1===t.indexOf(n.clusters.tensorflow[i].label)&&.4<n.clusters.tensorflow[i].score&&t.push(n.clusters.tensorflow[i].label);for(i=0;i<n.clusters.tensorflow.length;i++)if(.4<n.clusters.tensorflow[i].score)for(var a in o=n.clusters.tensorflow[i].treemap)-1===t.indexOf(o[a])&&t.push(o[a]);0<t.length&&(n.clusterLabels=t)}if(0<n.clusters.objects.length){for(var r=[],s=null,l=null,m=null,c=null,d=null,p=null,i=0;i<n.clusters.objects.length;i++){s=n.clusters.objects[i].label,l=n.clusters.objects[i].score,m=n.clusters.objects[i].xmin,c=n.clusters.objects[i].ymin,d=n.clusters.objects[i].xmax,p=n.clusters.objects[i].ymax,s in r?(new_w=100*(d-m),new_h=100*(p-c),old_w=100*(r[s].xmax-r[s].xmax),old_h=100*(r[s].ymax-r[s].xmin),new_w*new_h>old_w*old_h&&(r[s]={score:l,xmin:m,ymin:c,xmax:d,ymax:p})):r[s]={score:l,xmin:m,ymin:c,xmax:d,ymax:p}}n.objects=r}if(n.clusters.celebrities&&0<n.clusters.celebrities.length){for(var u=[],f=null,i=0;i<n.clusters.celebrities.length;i++){f=n.clusters.celebrities[i].name;u.includes(f)||u.push(f)}n.celebrities=u}if(null!==w.admantxClusters)n.semanticClusters=w.admantxClusters;else if(0<n.clusters.admantx.length){for(var g=[],s=null,l=null,i=0;i<n.clusters.admantx.length;i++)s=n.clusters.admantx[i].label,l=n.clusters.admantx[i].score,-1===g.indexOf(s)&&g.push({name:s,score:l});n.semanticClusters=g,w.admantxClusters=g}if(null!==w.brandProtectionCluster)n.semanticClusters=w.brandProtectionCluster;else if(0<n.clusters.brandProtection.length){var h=[];l=s=null;for(i=0;i<n.clusters.brandProtection.length;i++)-1===h.indexOf(n.clusters.brandProtection[i])&&(s=n.clusters.brandProtection[i].label,l=n.clusters.brandProtection[i].score,h.push({name:s,score:l}));n.semanticBrandSafety=h,w.brandProtectionCluster=h}}catch(e){w.consoleLog("ATOMIKSDK GET-CLUSTERS ERROR: "+e.message)}}else w.consoleLog("ATOMIKSDK GET-CLUSTERS ERROR: "+v.status+" - "+v.statusText);w.recordClustersOnPlacementEventForImage(y),w.getAdTagForImg(y)}};var o=JSON.stringify(t);v.send(o)},Atomik.prototype.getAdTagForImg=function(p){var e={atomik_placement:p.getAttribute("atomik-pl"),force_cache_update:null!==Atomik.getQueryParameterByName("atk-debug")},u=this,t=this.wsBaseURL+"?method=get_placement_info",f=new XMLHttpRequest;f.open("POST",t,!0),f.onreadystatechange=function(){if(4===f.readyState)if(200===f.status||202===f.status){var e=u.getAdSlotFromImage(p),t=f.responseText;try{var n,o,i,a,r,s,l=JSON.parse(t),m=l.adtags;m&&(n=m.adform)&&0<n.length?(e.adTagID=n[0],e.semanticEnabled=l.semantic_enabled,e.placement_name=l.placement_name,(o=m.ozdigital)&&0<o.length&&(i=o[0],a="728x90",r="[1,1],[728,90],[720,240]",Atomik.isMobile()&&(a+="_320x50",r+=",[320,50]"),1.5<p.offsetHeight/p.offsetWidth&&(a+="_320x100",r+=",[320,100]"),a+="_970x250",r+=",[970,250]",e.pt1="window.top.Atomik.".concat(e.zodiakPassbackName),e.pt8="["+r+"]",e.pt9=a,e.sizes="["+r+"]",e.zodiakTagId=i,e.zodiakTag="https://secure.adnxs.com/ttj?id=".concat(i,"&size=1x1&promo_sizes=").concat("720x240,728x90","&promo_alignment=center&pt9=").concat(a,"&pt8=[").concat(r,"]&pt1=window.top.Atomik.").concat(e.zodiakPassbackName)),(s=m.spotx)&&0<s.length&&(e.spotxTag=s[0])):u.consoleLog("ATOMIKSDK GET-AD-TAG ERROR: NO VALID TAG")}catch(e){u.consoleLog("ATOMIKSDK GET-AD-TAG ERROR: "+e.message)}if(!0===Atomik.subitoCheck()){var c=Atomik.getSubitoSemantics();for(var d in e.clusterLabels=[],c)e.clusterLabels.push(c[d].name);u.recordCustomClustersForImage(p,c)}e.semanticEnabled?u.getSemanticForImg(p):u.createAdContainerOnImage(p)}else u.consoleLog("ATOMIKSDK GET-AD-TAG ERROR: "+f.status+" - "+f.statusText)};var n=JSON.stringify(e);f.send(n)},Atomik.prototype.getSemanticForImg=function(n){var e=window.location.search.substring(1).split("&"),t=e.find(function(e){return e.includes("fbclid")}),o=window.location.href;void 0!==t&&(1<e.length&&(t=e.indexOf(t)!==e.length-1?t+"&":"&"+t),o=o.replace(t,""),1===e.length&&(o=o.slice(0,-1)));var i,a,r,s={key:"b93bdb1b311bb646d6b138b12c5ec3949a91f532dd0992968bdcaf3ef94c183f",method:"descriptor",mode:"async",decorator:"json",type:"url",filter:["categories","admants","feelings","entities"],body:encodeURIComponent(o)},l=this.getAdSlotFromImage(n);null!=l.semanticClusters||null!=l.semanticBrandSafety?(i=this).createAdContainerOnImage(n):this.semanticObjectRequested?this.addSemanticOnImgDelayed(n):(this.semanticObjectRequested=!0,i=this,a="https://euasync01.admantx.com/admantx/service?request="+JSON.stringify(s),(r=new XMLHttpRequest).open("GET",a,!0),r.onreadystatechange=function(){if(4===r.readyState){if(200===r.status){var e=r.responseText;i.consoleLog("ATOMIKSDK GET-SEMANTIC RESPONSE: "+e);try{var t=JSON.parse(e);"OK"==t.valid?(i.semanticObjectForPage=t,i.addSemanticOnImg(n)):i.consoleLog("ATOMIKSDK GET-SEMANTIC ERROR: NO VALID RESPONSE")}catch(e){i.consoleLog("ATOMIKSDK GET-SEMANTIC ERROR: "+e.message)}}else i.consoleLog("ATOMIKSDK GET-SEMANTIC ERROR: "+r.status+" - "+r.statusText);i.createAdContainerOnImage(n)}},r.send())},Atomik.prototype.recordCustomClustersForImage=function(e,t){var n=this.getAdSlotFromImage(e);if(null!=t){for(var o=e.firstElementChild.firstElementChild.firstElementChild.src,i=[],a=0;a<t.length;a++){var r=t[a],s={label:Atomik.sanitizeCustomCluster(r.name).toLowerCase(),score:r.score/100};i.push(s)}var l={src_page_uri:window.location.href,event_type:4,image_url:o,clusters:i},m=this,c=this.wsBaseURL+"?method=record_event",d=new XMLHttpRequest;d.open("POST",c,!0),d.onreadystatechange=function(){4===d.readyState&&(200===d.status||202===d.status?m.consoleLog("ATOMIKSDK RECORD-EVENT 4 SUCCESS FOR PLACEMENT ["+n.placement+"]"):m.consoleLog("ATOMIKSDK RECORD-EVENT 4 ERROR: "+d.status+" - "+d.statusText))};var p=JSON.stringify(l);d.send(p)}else this.consoleLog("ATOMIKSDK RECORD-EVENT 4 NO CLUSTERS FOR IMAGE ["+e.src+"]")},Atomik.prototype.addSemanticOnImg=function(e){var t;null!==this.semanticObjectForPage&&(t=this.getAdSlotFromImage(e),void 0===this.semanticObjectForPage.entities&&(this.semanticObjectForPage.categories=[]),void 0===this.semanticObjectForPage.feelings&&(this.semanticObjectForPage.feelings=[]),void 0===this.semanticObjectForPage.entities&&(this.semanticObjectForPage.entities=[]),t.semanticClusters=this.semanticObjectForPage.categories.concat(this.semanticObjectForPage.feelings.concat(this.semanticObjectForPage.entities)),t.semanticBrandSafety=this.semanticObjectForPage.admants,this.recordSemanticClustersForImage(e))},Atomik.prototype.addSemanticOnImgDelayed=function(e){var t=this.getAdSlotFromImage(e),n=this;null===this.semanticObjectForPage?(--t.semanticRetryCount,0<t.semanticRetryCount?setTimeout(function(){n.addSemanticOnImgDelayed(e)},200):n.createAdContainerOnImage(e)):(this.consoleLog("ATOMIKSDK GET-SEMANTIC CACHED FOR PAGE"),this.addSemanticOnImg(e),n.createAdContainerOnImage(e))},Atomik.prototype.createAdContainerOnImage=function(e){var t=this,n=jQuery(e),o=this.getAdSlotFromImage(e);this.consoleLog("ATOMIKSDK CREATE AD CONTAINER ON PLACEMENT ["+o.placement+"]");var i=document.createElement("div");i.id="atk-ad-"+Math.round(1e4*Math.random());var a,r=jQuery(i),s=n.parent();s.is("div")&&(void 0!==(a=s.css("position"))&&"static"!=a||s.css("position","relative")),r.insertAfter(n),o.adContainer=i,t.recordSDKReadyEventForPlacement(e),r.css({position:"absolute",border:"none",display:"block",margin:n.css("margin"),padding:n.css("padding")});var l,m=n.css("zIndex");void 0!==m&&"auto"!==m&&r.css("zIndex",m+1),t.setAdContainerPosition(i,e),Atomik.sportNetworkMobileCheck()?l="#"+i.id+" iframe:first-child {position: absolute !important; bottom: 0 !important; top:auto!important; height:40%!important;} ":Atomik.ItaliaOnRoadCheck()&&(l="#"+i.id+" > div > div > iframe {margin-top:0!important;}"),Atomik.injectStyles(l),n.mutate("width height top left bottom right offsetTop offsetLeft",function(){t.consoleLog("ATOMIKSDK MUTATE"),t.setAdContainerPosition(i,e),jQuery.inviewport(e,{threshold:0,container:window})&&t.checkImgInView(i,e)}),n.inView(function(){t.checkImgInView(i,e)})},Atomik.prototype.setAdContainerPosition=function(e,t){var n,o,i,a=jQuery(e),r=jQuery(t);Atomik.rcsCheck()?(o=0,null!=(n=r.siblings(".didascalia_img"))&&"none"!=n.css("display")&&(o=n.outerHeight()-1),a.css({top:r.position().top,left:r.position().left,bottom:r.position().bottom-o,right:r.position().right,margin:r.css("margin"),padding:r.css("padding")}),a.width(r.width()),a.height(r.height()-o)):(a.css({top:r.position().top,left:r.position().left,bottom:r.position().bottom,right:r.position().right,margin:r.css("margin"),padding:r.css("padding")}),a.width(r.width()),i=$(".thumbnails").height()+parseInt($(".thumbnails").css("padding-top"))+parseInt($(".thumbnails").css("padding-bottom")),i=isNaN(i)?0:i,a.height(r.height()-i))},Atomik.prototype.removeZIndexFromImage=function(e){var t=this.ads[e];null!=t&&null!=t.adContainer&&jQuery(t.adContainer).css({zIndex:0})},Atomik.prototype.checkImgInView=function(e,t){var n,o,i,a,r,s,l,m,c=this.getAdSlotFromImage(t);1!=c.alreadyInView&&(c.alreadyInView=!0,this.consoleLog("ATOMIKSDK IMAGE IN-VIEW ["+t.src+"]"),null!=c.adTagID&&(null!=c.zodiakTag&&(n=!1,c.semanticBrandSafety&&(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n||c.semanticBrandSafety.some(function(e){return"crimes"===e.name}))||c.semanticBrandSafety.some(function(e){return"parental_protection"===e.name}))||c.semanticBrandSafety.some(function(e){return"weaponry_and_military"===e.name}))||c.semanticBrandSafety.some(function(e){return"accidents"===e.name}))||c.semanticBrandSafety.some(function(e){return"alcohol_and_tobacco"===e.name}))||c.semanticBrandSafety.some(function(e){return"illegal_drugs"===e.name}))||c.semanticBrandSafety.some(function(e){return"natural_disasters"===e.name}))||c.semanticBrandSafety.some(function(e){return"terrorism"===e.name}))||c.semanticBrandSafety.some(function(e){return"illegal_download"===e.name}))||c.semanticBrandSafety.some(function(e){return"illegal_streaming"===e.name})),Atomik.astCheck()?(o=this.addClustersOnTagAST(c,"","atomik_qskw"),Atomik[c.passbackName]='\n         <script type="text/javascript">\n         var apntag = apntag || {};\n         apntag.anq = apntag.anq || [];\n         (function () {\n         var d = document,\n         e = d.createElement("script"),\n         p = d.getElementsByTagName("head")[0];\n         e.type = "text/javascript";\n         e.async = true;\n         e.src = "//acdn.adnxs.com/ast/ast.js";\n         p.insertBefore(e, p.firstChild);\n         })();\n         \n         apntag.anq.push(function () {\n         apntag.setPageOpts({\n         member: 956,\n         keywords: {\n         atomik_qskw: "'.concat(o,'",\n         pt9: "').concat(c.pt9,'",\n         pt8: "').concat(c.pt8,'",\n         pt1: "').concat(c.pt1,'",\n         },\n         });\n         \n         apntag.defineTag({\n         tagId: ').concat(c.zodiakTagId,",\n         sizes: ").concat(c.sizes,',\n         targetId: "atomik-container",\n         });\n         \n         apntag.loadTags();\n         });\n         <\/script>\n         <div id="atomik-container" style="opacity: 0;">\n         <script type="text/javascript">\n                        try {\n            apntag.anq.push(function () {\n                apntag.showTag("atomik-container");\n                apntag.onEvent(\'adLoaded\', \'atomik-container\', function (adError, adObj) {\n                    var tag = apntag.getTag(\'atomik-container\');\n                    var hinterval = setInterval(function () {\n                        var apniFrame = document.getElementById(tag.utiframeId).contentWindow.document;\n                        var h_banner = apniFrame.body.offsetHeight;\n                        if (h_banner > 20 && h_banner !== undefined && apniFrame.getElementsByTagName(\'div\')[1].getElementsByTagName(\'iframe\').length) {\n         //   console.log(apniFrame.getElementsByTagName(\'div\')[1].getElementsByTagName(\'iframe\')[0].offsetWidth);\n                            var w_banner = apniFrame.getElementsByTagName(\'div\')[1].getElementsByTagName(\'iframe\')[0].offsetWidth;\n                            if(w_banner<20){\n                                w_banner = apniFrame.getElementsByTagName(\'div\')[1].getElementsByTagName(\'iframe\')[0].contentWindow.document.getElementById(\'native-container\').offsetWidth;\n                            }\n                            if(w_banner>20){\n                            if(h_banner == 150)\n                                h_banner = 80;\n                  //      console.log("Resize: "+w_banner+\' \'+h_banner);\n                                apntag.resizeAd(\'atomik-container\', [w_banner, h_banner]);\n                                clearInterval(hinterval);\n                            }\n                        }\n                    }, 250)\n                });\n            });\n           } catch (e) {\n                console.log(e);\n            }\n        <\/script>\n<script>\n                 var external_container = window.frameElement.parentElement;\n                 /*var external_observerOptions = {childList: true,attributes: true,subtree: true};\n                 var external_observer = new MutationObserver(onResizeEvent); \n                 external_observer.observe(external_container, external_observerOptions);*/\n                 \n                 var element = document.getElementById("atomik-container");\n                 var closeSetted = false;\n                 var observerOptions = {childList: true,attributes: true,subtree: true};\n                 var observer = new MutationObserver(onResizeEvent); \n                 observer.observe(element, observerOptions);\n                 function onResizeEvent(){\n                    var creativeIframeContainer = document.querySelector(\'[id^="google_ads_iframe_"] iframe\')\n                    var creativeRecallContainer = document.querySelector(\'[id^="adform-adbox-"]\');\n                    if(creativeRecallContainer && creativeRecallContainer.offsetWidth === 1){\n                        \n                        //Unset property\n                        window.frameElement.style.setProperty("width", "unset", "important");\n                        window.frameElement.style.setProperty("height", "unset", "important");\n                        window.frameElement.style.transformOrigin = "0 0";\n                        window.frameElement.style.transform = "unset";\n                        window.frameElement.style.setProperty("bottom", "unset", "important");\n                        window.frameElement.style.setProperty("top", "unset", "important");\n                        window.frameElement.style.setProperty("position", "unset", "important");\n                        window.frameElement.style.setProperty("left", "unset", "important");\n                        window.frameElement.style.setProperty("max-width", "unset", "important");\n                        window.frameElement.style.marginTop = "unset";\n                        \n                        //Set property\n                        window.frameElement.style.setProperty("width", "100%", "important");\n                        window.frameElement.style.setProperty("height", "100%", "important");\n                        document.getElementsByTagName(\'html\')[0].style.setProperty("height", "100%", "important");\n                        document.getElementsByTagName(\'html\')[0].style.setProperty("width", "100%", "important");\n                        document.getElementsByTagName(\'body\')[0].style.setProperty("height", "100%", "important");\n                        document.getElementsByTagName(\'body\')[0].style.setProperty("width", "100%", "important");\n                        \n                        creativeRecallContainer.parentElement.style.setProperty("height", "100%", "important");\n                        creativeRecallContainer.parentElement.style.setProperty("width", "100%", "important");\n                        \n                        creativeRecallContainer.parentElement.parentElement.style.setProperty("height", "100%", "important");\n                        creativeRecallContainer.parentElement.parentElement.style.setProperty("width", "100%", "important");\n                        \n                        element.style.setProperty("height", "100%", "important");;\n                        element.style.setProperty("width", "100%", "important");;\n                        element.style.opacity = "1";\n                    }else \n                        if(element.offsetWidth == 970 && element.offsetHeight == 250 && (window.frameElement.parentElement.offsetHeight/window.frameElement.parentElement.offsetWidth)<0.9){\n                            var imgWidth = window.frameElement.parentElement.offsetWidth;\n                            var imgHeight = window.frameElement.parentElement.offsetHeight;\n                            var frameHeight = element.offsetHeight * (imgWidth/element.offsetWidth);\n                            window.frameElement.style.setProperty("width", element.offsetWidth + "px", "important");\n                            window.frameElement.style.setProperty("height", element.offsetHeight + "px", "important");\n                            var scaleFactor = (imgHeight / 3) / element.offsetHeight;\n                            window.frameElement.style.transform = "scale3d(" + scaleFactor + ", " + scaleFactor + ", 1)";\n                            window.frameElement.style.transformOrigin = "0 0";\n                            window.frameElement.style.setProperty("margin-top", parseInt(imgHeight - element.offsetHeight*scaleFactor) + "px", "important");\n                            window.frameElement.style.setProperty("margin-left", parseInt((imgWidth - element.offsetWidth*scaleFactor)/2) + "px", "important");\n                            window.frameElement.style.setProperty("bottom", "unset", "important");\n                            window.frameElement.style.setProperty("top", "unset", "important");\n                            window.frameElement.style.setProperty("position", "absolute", "important");\n                            window.frameElement.style.setProperty("left", "0", "important");\n                            window.frameElement.style.setProperty("max-width", "unset", "important");\n                            if(!closeSetted && element.offsetWidth !== 720){\n                            var div = document.createElement("img"); div.src="https://atomikad.com/img/close.png";\n                            div.style.width = "25px"; div.style.height = "25px"; div.style.position = "absolute"; div.style.left = "0px"; div.style.top = "0px";  div.style.cursor = "pointer";\n                            element.appendChild(div); div.addEventListener("click", function(){\n                                element.style.display = "none";\n                                window.top.atomikInst.setClosedPl("').concat(c.placement,'");\n                            }); \n                            closeSetted = true;\n                        }\n                            element.style.opacity = "1";\n                            \n                    }else if(element.offsetWidth > 650){\n                        /*if(creativeIframeContainer.offsetWidth === 720 || element.offsetWidth === 720){\n                            closeSetted = true;\n                        }*/\n                        var imgWidth = window.frameElement.parentElement.offsetWidth;\n                        var imgHeight = window.frameElement.parentElement.offsetHeight;\n                        var frameHeight = element.offsetHeight * (imgWidth/element.offsetWidth);\n                        window.frameElement.style.setProperty("width", element.offsetWidth + "px", "important");\n                        window.frameElement.style.setProperty("height", element.offsetHeight + "px", "important");\n                        window.frameElement.style.transformOrigin = "0 0";\n                        window.frameElement.style.marginTop = parseInt(imgHeight - frameHeight) + "px";\n                        window.frameElement.style.transform = "scale3d(" + imgWidth/element.offsetWidth + ", " + imgWidth/element.offsetWidth + ", 1)";\n                        window.frameElement.style.setProperty("bottom", "unset", "important");\n                        window.frameElement.style.setProperty("top", "unset", "important");\n                        window.frameElement.style.setProperty("position", "absolute", "important");\n                        window.frameElement.style.setProperty("left", "0", "important");\n                        window.frameElement.style.setProperty("max-width", "unset", "important");\n                        if(!closeSetted && element.offsetWidth !== 720){\n                            var div = document.createElement("img"); div.src="https://atomikad.com/img/close.png";\n                            div.style.width = "25px"; div.style.height = "25px"; div.style.position = "absolute"; div.style.left = "0px"; div.style.top = "0px";  div.style.cursor = "pointer";\n                            element.appendChild(div); div.addEventListener("click", function(){\n                                element.style.display = "none";\n                                window.top.atomikInst.setClosedPl("').concat(c.placement,'");\n                            }); \n                            closeSetted = true;\n                        }\n                        element.style.opacity = "1";\n                    }else if (element.offsetWidth == 192){\n                        apntag.resizeAd(\'atomik-container\', [window.frameElement.parentNode.offsetWidth, window.frameElement.parentNode.offsetHeight]);\n                        closeSetted = true;\n                        var imgWidth = window.frameElement.parentElement.offsetWidth;\n                        var imgHeight = window.frameElement.parentElement.offsetHeight;\n                        var frameWidth = element.offsetWidth;\n                        var frameHeight = element.offsetHeight;\n                        window.frameElement.style.setProperty("width", element.offsetWidth + "px", "important");\n                        window.frameElement.style.setProperty("height", element.offsetHeight + "px", "important");\n                        window.frameElement.style.transformOrigin = "0 0";\n                        var scaleFactor = imgHeight / element.offsetHeight;\n                        if(scaleFactor>2)\n                            scaleFactor = 1.7;\n                        var iframeContainer = document.getElementById(\'div_utif_atomik-container\').getElementsByTagName(\'iframe\')[0].contentWindow.document;\n                        iframeContainer.body.style.setProperty("height", "100%", "important");\n                        iframeContainer.body.style.setProperty("width", "100%", "important");\n                        iframeContainer.getElementsByTagName(\'html\')[0].style.setProperty("height", "100%", "important");\n                        iframeContainer.getElementsByTagName(\'html\')[0].style.setProperty("width", "100%", "important");\n                        container1 = iframeContainer.querySelector(\'[id^="gpt_unit_"]\');\n                        container2 = iframeContainer.querySelector(\'[id^="google_ads_iframe_"]\');\n                        container3 = iframeContainer.querySelector(\'[id^="adform-adbox-"]\');\n                        container1.style.setProperty("width", "100%", "important");\n                        container1.style.setProperty("height", "100%", "important");\n                        container2.style.setProperty("width", "100%", "important");\n                        container2.style.setProperty("height", "100%", "important");\n                        container3.style.setProperty("width", "100%", "important");\n                        container3.style.setProperty("height", "100%", "important");\n                    //    window.frameElement.style.setProperty("height", "100%", "important");\n                   //     window.frameElement.style.setProperty("width", "100%", "important");\n                   //     window.frameElement.style.setProperty("margin-top", parseInt((imgHeight - element.offsetHeight*scaleFactor)) + "px", "important");\n                   //     window.frameElement.style.setProperty("margin-left", parseInt((imgWidth - element.offsetWidth*scaleFactor)/2) + "px", "important");\n                   //     window.frameElement.style.transform = "scale3d(" + scaleFactor + ", " + scaleFactor + ", 1)";\n                        window.frameElement.style.setProperty("bottom", "unset", "important");\n                        window.frameElement.style.setProperty("top", "unset", "important");\n                        window.frameElement.style.setProperty("position", "absolute", "important");\n                        window.frameElement.style.setProperty("left", "0", "important");\n                        window.frameElement.style.setProperty("max-width", "unset", "important");\n                        element.style.opacity = "1";\n                        if (!closeSetted && element.offsetWidth !== 720) {\n                            var div = document.createElement("img");\n                            div.src = "https://atomikad.com/img/close.png";\n                            div.style.width = "25px";\n                            div.style.height = "25px";\n                            div.style.position = "absolute";\n                            div.style.right = "0px";\n                            div.style.top = "0px";\n                            div.style.cursor = "pointer";\n                            div.style.zIndex = 999999;\n                            element.appendChild(div);\n                            div.addEventListener("click", function () {\n                                element.style.display = "none";\n                                window.top.atomikInst.setClosedPl("').concat(c.placement,'");\n                            });\n                            closeSetted = true;\n                        }\n                    }\n                \n                }\n            <\/script>\n         </div>\n\n         ')):n||(c.zodiakTag=this.addClustersOnTag(c,c.zodiakTag,"atomik_qskw"),Atomik[c.passbackName]='\n            <script type="text/javascript">\n                window.placement_name = "'.concat(c.placement_name,'";\n            <\/script>\n            <div id="atomik-container" style="opacity: 0"><SCRIPT SRC="').concat(c.zodiakTag,'" TYPE="text/javascript"><\/SCRIPT>\n            <script>\n                 var external_container = window.frameElement.parentElement;\n                 /*var external_observerOptions = {childList: true,attributes: true,subtree: true};\n                 var external_observer = new MutationObserver(onResizeEvent); \n                 external_observer.observe(external_container, external_observerOptions);*/\n                 \n                 var element = document.getElementById("atomik-container");\n                 var closeSetted = false;\n                 var observerOptions = {childList: true,attributes: true,subtree: true};\n                 var observer = new MutationObserver(onResizeEvent); \n                 observer.observe(element, observerOptions);\n                 function onResizeEvent(){\n                    var creativeIframeContainer = document.querySelector(\'[id^="google_ads_iframe_"] iframe\')\n                    var creativeRecallContainer = document.querySelector(\'[id^="adform-adbox-"]\');\n                    if(creativeRecallContainer && creativeRecallContainer.offsetWidth === 1){\n                        \n                        //Unset property\n                        window.frameElement.style.setProperty("width", "unset", "important");\n                        window.frameElement.style.setProperty("height", "unset", "important");\n                        window.frameElement.style.transformOrigin = "0 0";\n                        window.frameElement.style.transform = "unset";\n                        window.frameElement.style.setProperty("bottom", "unset", "important");\n                        window.frameElement.style.setProperty("top", "unset", "important");\n                        window.frameElement.style.setProperty("position", "unset", "important");\n                        window.frameElement.style.setProperty("left", "unset", "important");\n                        window.frameElement.style.setProperty("max-width", "unset", "important");\n                        window.frameElement.style.marginTop = "unset";\n                        \n                        //Set property\n                        window.frameElement.style.setProperty("width", "100%", "important");\n                        window.frameElement.style.setProperty("height", "100%", "important");\n                        document.getElementsByTagName(\'html\')[0].style.setProperty("height", "100%", "important");\n                        document.getElementsByTagName(\'html\')[0].style.setProperty("width", "100%", "important");\n                        document.getElementsByTagName(\'body\')[0].style.setProperty("height", "100%", "important");\n                        document.getElementsByTagName(\'body\')[0].style.setProperty("width", "100%", "important");\n                        \n                        creativeRecallContainer.parentElement.style.setProperty("height", "100%", "important");\n                        creativeRecallContainer.parentElement.style.setProperty("width", "100%", "important");\n                        \n                        creativeRecallContainer.parentElement.parentElement.style.setProperty("height", "100%", "important");\n                        creativeRecallContainer.parentElement.parentElement.style.setProperty("width", "100%", "important");\n                        \n                        element.style.setProperty("height", "100%", "important");;\n                        element.style.setProperty("width", "100%", "important");;\n                        element.style.opacity = "1";\n                    }else \n                        if(element.offsetWidth == 970 && element.offsetHeight == 250 && (window.frameElement.parentElement.offsetHeight/window.frameElement.parentElement.offsetWidth)<0.9){\n                            var imgWidth = window.frameElement.parentElement.offsetWidth;\n                            var imgHeight = window.frameElement.parentElement.offsetHeight;\n                            var frameHeight = element.offsetHeight * (imgWidth/element.offsetWidth);\n                            window.frameElement.style.setProperty("width", element.offsetWidth + "px", "important");\n                            window.frameElement.style.setProperty("height", element.offsetHeight + "px", "important");\n                            var scaleFactor = (imgHeight / 3) / element.offsetHeight;\n                            window.frameElement.style.transform = "scale3d(" + scaleFactor + ", " + scaleFactor + ", 1)";\n                            window.frameElement.style.transformOrigin = "0 0";\n                            window.frameElement.style.setProperty("margin-top", parseInt(imgHeight - element.offsetHeight*scaleFactor) + "px", "important");\n                            window.frameElement.style.setProperty("margin-left", parseInt((imgWidth - element.offsetWidth*scaleFactor)/2) + "px", "important");\n                            window.frameElement.style.setProperty("bottom", "unset", "important");\n                            window.frameElement.style.setProperty("top", "unset", "important");\n                            window.frameElement.style.setProperty("position", "absolute", "important");\n                            window.frameElement.style.setProperty("left", "0", "important");\n                            window.frameElement.style.setProperty("max-width", "unset", "important");\n                            if(!closeSetted && element.offsetWidth !== 720){\n                            var div = document.createElement("img"); div.src="https://atomikad.com/img/close.png";\n                            div.style.width = "25px"; div.style.height = "25px"; div.style.position = "absolute"; div.style.left = "0px"; div.style.top = "0px";  div.style.cursor = "pointer";\n                            element.appendChild(div); div.addEventListener("click", function(){\n                                element.style.display = "none";\n                                window.top.atomikInst.setClosedPl("').concat(c.placement,'");\n                            }); \n                            closeSetted = true;\n                        }\n                            element.style.opacity = "1";\n                            \n                    }else if(element.offsetWidth > 650){\n                        /*if(creativeIframeContainer.offsetWidth === 720 || element.offsetWidth === 720){\n                            closeSetted = true;\n                        }*/\n                        var imgWidth = window.frameElement.parentElement.offsetWidth;\n                        var imgHeight = window.frameElement.parentElement.offsetHeight;\n                        var frameHeight = element.offsetHeight * (imgWidth/element.offsetWidth);\n                        window.frameElement.style.setProperty("width", element.offsetWidth + "px", "important");\n                        window.frameElement.style.setProperty("height", element.offsetHeight + "px", "important");\n                        window.frameElement.style.transformOrigin = "0 0";\n                        window.frameElement.style.marginTop = parseInt(imgHeight - frameHeight) + "px";\n                        window.frameElement.style.transform = "scale3d(" + imgWidth/element.offsetWidth + ", " + imgWidth/element.offsetWidth + ", 1)";\n                        window.frameElement.style.setProperty("bottom", "unset", "important");\n                        window.frameElement.style.setProperty("top", "unset", "important");\n                        window.frameElement.style.setProperty("position", "absolute", "important");\n                        window.frameElement.style.setProperty("left", "0", "important");\n                        window.frameElement.style.setProperty("max-width", "unset", "important");\n                        if(!closeSetted && element.offsetWidth !== 720){\n                            var div = document.createElement("img"); div.src="https://atomikad.com/img/close.png";\n                            div.style.width = "25px"; div.style.height = "25px"; div.style.position = "absolute"; div.style.left = "0px"; div.style.top = "0px";  div.style.cursor = "pointer";\n                            element.appendChild(div); div.addEventListener("click", function(){\n                                element.style.display = "none";\n                                window.top.atomikInst.setClosedPl("').concat(c.placement,'");\n                            }); \n                            closeSetted = true;\n                        }\n                        element.style.opacity = "1";\n                    }\n                }\n            <\/script>\n            </div>'))),i="adx.adform.net/adx/?rnd="+Math.random(),null!==Atomik.getQueryParameterByName("atk-pb")?i+="&mid=12398456":i+="&mid="+c.adTagID,i+="&pbvar=Atomik."+c.passbackName,i=this.addClustersOnTag(c,i,"mkv"),(a=jQuery(t)).width()>=a.height()?i+="&mkv=ImgOrientation:horizontal":i+="&mkv=ImgOrientation:vertical",(r=t.offsetWidth*t.offsetWidth)<75e3&&(i+="&mkv=metrics:small"),75e3<=r&&r<158400&&(i+="&mkv=metrics:medium"),158400<=r&&(i+="&mkv=metrics:large"),Atomik.sponsoredCheckTestVideo()&&(i+="&mkv=check:test_video"),this.consoleLog("ATOMIKSDK LOAD AD FROM TAG FOR IMAGE ["+t.src+"]: "+i),this.recordInViewEventForPlacement(t),s='<script data-adfscript="'+i+'"><\/script><script src="//s1.adform.net/banners/scripts/adx.js" async defer><\/script>',Atomik.postscribe(e,s),l=Atomik.reloadList(),c.placement in l&&(m=this,setTimeout(function(){m.reloadAdTag(e,c,s)},1e3*l[c.placement]))))},Atomik.prototype.addClustersOnTag=function(e,t,n){var o=!1;if(e.semanticClusters&&0<e.semanticClusters.length)for(var i=0;i<e.semanticClusters.length;i++)try{var a="adx_"+e.semanticClusters[i].name.toLowerCase().replace(/ /g,"_");"mkv"===n&&(a="admantx:"+a),o?t+=","+encodeURI(a):(t+="&"+n+"="+encodeURI(a),o=!0)}catch(e){}o=!1;if(e.semanticBrandSafety&&0<e.semanticBrandSafety.length)for(i=0;i<e.semanticBrandSafety.length;i++)try{a="adx_bs_"+e.semanticBrandSafety[i].name.toLowerCase().replace("brand protection - ","").replace(/ /g,"_");"mkv"===n&&(a="brand_protection:"+a),o?t+=","+encodeURI(a):(t+="&"+n+"="+encodeURI(a),o=!0)}catch(e){}o=!1;if(e.clusterLabels&&0<e.clusterLabels.length)for(var r="",i=0;i<e.clusterLabels.length;i++)r=Atomik.subitoCheck()?"sbt_"+e.clusterLabels[i]:e.clusterLabels[i],"mkv"===n&&(r="tensorflow:"+r),r=r.replace(/,/g,";"),o?t+=","+encodeURI(r):(t+="&"+n+"="+encodeURI(r),o=!0);if(o=!1,e.objects&&0<Object.keys(e.objects).length)for(i=0;i<Object.keys(e.objects).length;i++){var s="obj_"+Object.keys(e.objects)[i];"mkv"===n&&(s="obj_det:"+s);try{o?t+=","+encodeURI(s):(t+="&"+n+"="+encodeURI(s),o=!0)}catch(e){}}o=!1;if(e.celebrities&&0<e.celebrities.length)for(var l="",i=0;i<e.celebrities.length;i++)l=e.celebrities[i],"mkv"===n&&(l="celebrities:"+l),l=l.replace(/ /g,"_"),o?t+=","+encodeURI(r):(t+="&"+n+"="+encodeURI(l),o=!0);return t},Atomik.prototype.addClustersOnTagAST=function(e,t,n){var o=!1;if(e.semanticClusters&&0<e.semanticClusters.length)for(var i=0;i<e.semanticClusters.length;i++)try{var a="adx_"+e.semanticClusters[i].name.toLowerCase().replace(/ /g,"_");"mkv"===n&&(a="admantx:"+a),o?t+=","+encodeURI(a):(t+="&"+n+"="+encodeURI(a),o=!0)}catch(e){}if(e.semanticBrandSafety&&0<e.semanticBrandSafety.length)for(i=0;i<e.semanticBrandSafety.length;i++)try{a="adx_bs_"+e.semanticBrandSafety[i].name.toLowerCase().replace("brand protection - ","").replace(/ /g,"_");"mkv"===n&&(a="brand_protection:"+a),o?t+=","+encodeURI(a):(t+="&"+n+"="+encodeURI(a),o=!0)}catch(e){}if(e.clusterLabels&&0<e.clusterLabels.length)for(var r="",i=0;i<e.clusterLabels.length;i++)r=Atomik.subitoCheck()?"sbt_"+e.clusterLabels[i]:e.clusterLabels[i],"mkv"===n&&(r="tensorflow:"+r),r=r.replace(/,/g,";"),o?t+=","+encodeURI(r):(t+="&"+n+"="+encodeURI(r),o=!0);if(e.objects&&0<Object.keys(e.objects).length)for(i=0;i<Object.keys(e.objects).length;i++){var s="obj_"+Object.keys(e.objects)[i];"mkv"===n&&(s="obj_det:"+s);try{o?t+=","+encodeURI(s):(t+=encodeURI(s),o=!0)}catch(e){}}if(e.celebrities&&0<e.celebrities.length)for(var l="",i=0;i<e.celebrities.length;i++)l=e.celebrities[i],"mkv"===n&&(l="celebrities:"+l),l=l.replace(/ /g,"_"),o?t+=","+encodeURI(r):(t+=encodeURI(l),o=!0);return t},Atomik.prototype.createSpotXTag=function(e){var t,n,o,i,a,r,s=this.getAdSlotFromPlacement(e);null!=s.spotxTag?(t=s.adContainer,n=s.spotxTag,o=t.id,(i=document.createElement("script")).type="text/javascript",i.src="//js.spotx.tv/easi/v1/"+n+".js",i.setAttribute("data-spotx_channel_id",n),i.setAttribute("data-spotx_ad_unit","instream"),i.setAttribute("data-spotx_autoplay","1"),i.setAttribute("data-spotx_blocked_autoplay_override_mode","1"),i.setAttribute("data-spotx_ad_volume","0"),i.setAttribute("data-spotx_ad_skippable","1"),i.setAttribute("data-spotx_ad_skip_delay","5"),i.setAttribute("data-spotx_content_type","other"),i.setAttribute("data-spotx_content_page_url",encodeURI(window.location.href)),a=jQuery(t).width(),r=jQuery(t).height(),i.setAttribute("data-spotx_content_width",a),i.setAttribute("data-spotx_content_height",r),i.setAttribute("data-spotx_ad_done_function","privateSpotXPassback"),i.setAttribute("data-spotx_content_container_id",o),t.appendChild(i)):window.top.Atomik.getInstance().passbackExternalCallback&&window.top.Atomik.getInstance().passbackExternalCallback(e,"")},Atomik.prototype.recordClustersOnPlacementEventForImage=function(e){var t,n,o,i,a,r,s,l=this.getAdSlotFromImage(e);null!=l.clusterLabels?null!=(t=e.getAttribute("atomik-pl"))?(n="",n=Atomik.subitoCheck()?this.sanitizeImgUrl(e.firstElementChild.src):this.sanitizeImgUrl(e.src),o={event_type:0,image_url_hash:Atomik.md5(n),atomik_placement:t,clusters:l.clusterLabels},a=(i=this).wsBaseURL+"?method=record_event",(r=new XMLHttpRequest).open("POST",a,!0),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||202===r.status?i.consoleLog("ATOMIKSDK RECORD-EVENT 0 SUCCESS FOR PLACEMENT ["+t+"]"):i.consoleLog("ATOMIKSDK RECORD-EVENT 0 ERROR: "+r.status+" - "+r.statusText))},s=JSON.stringify(o),r.send(s)):this.consoleLog("ATOMIKSDK RECORD-EVENT 0 NO PLACEMENT FOR TARGET ["+e+"]"):this.consoleLog("ATOMIKSDK RECORD-EVENT 0 NO CLUSTERS FOR PLACEMENT ["+l.placement+"]")},Atomik.prototype.recordSDKReadyEventForPlacement=function(e){var t,n,o,i,a,r=e.getAttribute("atomik-pl");null!=r?(t={event_type:1,atomik_placement:r},o=(n=this).wsBaseURL+"?method=record_event&cb="+Math.random(),(i=new XMLHttpRequest).open("POST",o,!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status||202===i.status?n.consoleLog("ATOMIKSDK RECORD-EVENT 1 SUCCESS FOR PLACEMENT ["+r+"]"):n.consoleLog("ATOMIKSDK RECORD-EVENT 1 ERROR: "+i.status+" - "+i.statusText))},a=JSON.stringify(t),i.send(a)):this.consoleLog("ATOMIKSDK RECORD-EVENT 1 NO PLACEMENT FOR IMAGE ["+e.src+"]")},Atomik.prototype.recordInViewEventForPlacement=function(e){},Atomik.prototype.recordSemanticClustersForImage=function(e){var t=this.getAdSlotFromImage(e);if(null!=t.semanticClusters||null!=t.semanticBrandSafety){var n=this.sanitizeImgUrl(e.src),o=Atomik.md5(n),i=[];if(t.semanticClusters)for(var a=0;a<t.semanticClusters.length;a++){var r=t.semanticClusters[a],s={label:r.name.toLowerCase(),score:r.score/100};i.push(s)}var l=[];if(t.semanticBrandSafety)for(a=0;a<t.semanticBrandSafety.length;a++){var m=t.semanticBrandSafety[a],c={label:m.name.toLowerCase().replace("brand protection - ",""),score:m.score/100};l.push(c)}var d={event_type:3,image_url_hash:o,content_url:window.location.href,clusters:i,brand_protections:l},p=this,u=this.wsBaseURL+"?method=record_event",f=new XMLHttpRequest;f.open("POST",u,!0),f.onreadystatechange=function(){4===f.readyState&&(200===f.status||202===f.status?p.consoleLog("ATOMIKSDK RECORD-EVENT 3 SUCCESS FOR PLACEMENT ["+t.placement+"]"):p.consoleLog("ATOMIKSDK RECORD-EVENT 3 ERROR: "+f.status+" - "+f.statusText))};var g=JSON.stringify(d);f.send(g)}else this.consoleLog("ATOMIKSDK RECORD-EVENT 3 NO CLUSTERS FOR IMAGE ["+e.src+"]")},Atomik.prototype.getAllElementsWithAttribute=function(e){var t=[],n=document.querySelectorAll("["+e+"]");if(-1!=window.location.hostname.indexOf("www.corrieredellosport.it")||-1!=window.location.hostname.indexOf("www.tuttosport.com")){var o=Math.ceil(100*Math.random());if(8<document.getElementsByClassName("foto-slider__slide").length&&o<30&&"DIV"==n[0].tagName)t.push(n[0]);else for(var i=0,a=n.length;i<a;i++)null!==n[i].getAttribute(e)&&"IMG"==n[i].tagName&&t.push(n[i])}else for(i=0,a=n.length;i<a;i++)null!==n[i].getAttribute(e)&&t.push(n[i]);return t},Atomik.prototype.getAdSlotFromImage=function(e){for(var t=null,n=0;n<this.ads.length;n++)if(this.ads[n].targetImage===e){t=this.ads[n];break}return t},Atomik.prototype.getAdSlotFromPlacement=function(e){for(var t=null,n=0;n<this.ads.length;n++)if(this.ads[n].placement==e){t=this.ads[n];break}return t},Atomik.prototype.sanitizeImgUrl=function(e){var t=e.indexOf("://");if(-1==t)return e;var n=e.substring(0,t+3),o=e.substring(t+3,e.length),i=o.split("/",1)[0];return i&&i.split(".").length<3?n+"www."+o:e},Atomik.prototype.setClosedPl=function(e){this.getAdSlotFromPlacement(e).closed=!0},Atomik.prototype.consoleLog=function(e){null!==Atomik.getQueryParameterByName("atk-debug")&&console.log(e)},Atomik.prototype.reloadAdTag=function(e,t,n){if(!1===t.closed){for(this.consoleLog("ATOMIKSDK REFRESH AD TAG FOR PLACEMENT: "+t.placement);e.hasChildNodes();)e.removeChild(e.lastChild);Atomik.postscribe(e,n)}},Atomik.atomikPrivateInit=function(){Atomik.includeScript("https://cdn.jsdelivr.net/gh/AtomikAd/sdk/dist/core/atomik-utils.min.js",function(){Atomik.includeScript("https://cdn.jsdelivr.net/gh/AtomikAd/sdk/dist/core/atomik-postscribe.min.js",function(){atomikInst.getPlacementLessTags(),window.atomikReady&&window.atomikReady()})})},Atomik.onPassback=function(e){atomikInst&&(atomikInst.passbackExternalCallback=e)},Atomik.getQueryParameterByName=function(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},Atomik.reloadList=function(){return{"atomik/qa23cnop0z0b7d5ztknu4tw4d":8,"atomik/cs9bqk13h4kuvj0j45gy2ttvx":8,"atomik/m40o1onp20o5rqrmunxeerltq":8,"atomik/1tcuvc3w0jz5tceqgu6yz3x84":8,"atomik/bgimhzwhfqetpibmrbk0afrkk":11,"atomik/k4g38b93fi1om5kao87mqjjet":13,"atomik/ibguzq8nhh7524pumsb1s6j77":12,"atomik/4cdv76z871wobsnjkqauzkjpl":11,"atomik/uz3qccd6dk46zg1qvfq22hfmo":13,"atomik/8xxov7guigkpq5o8uvj96skwt":12,"atomik/bvchqkzgixgu7hwaq98hzwcef":13,"atomik/xekxhaduheh4ian8f9ukkjc3i":11,"atomik/k0ku5vbeh3f66rmbsygj4m99c":11,"atomik/2d18ijbgq0nxovby0uy61sfuh":14,"atomik/rs02onsuaezurr5h6fd14r3jc":11,"atomik/rl4938w30qi71svb7vwhh39c2":11,"atomik/ymvjf7h3pfw33itjd2g2mp2q9":12,"atomik/frqvyoiezqvmvyespy426fpru":13,"atomik/qgpoq0q3zszx9n1jp24ujlf7z":10,"atomik/7lp2sap61lnvynan6t53f530y":11,"atomik/dcane43ya27yhcfiq7lascld8":10,"atomik/0c7epzuf9vw84bmj9h3blursb":10,"atomik/temjabvc32mcle46981k7g0w3":11}},Atomik.rcsCheck=function(){var e=window.location.hostname;return-1!=e.indexOf("www.corriere.it")||-1!=e.indexOf("corriereinnovazione.corriere.it")||-1!=e.indexOf("motori.corriere.it")||-1!=e.indexOf("bergamo.corriere.it")||-1!=e.indexOf("corrieredibologna.corriere.it")||-1!=e.indexOf("roma.corriere.it")||-1!=e.indexOf("corrieredelmezzogiorno.corriere.it")||-1!=e.indexOf("brescia.corriere.it")||-1!=e.indexOf("corrierefiorentino.corriere.it")},Atomik.isMobile=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},Atomik.fattoGallery=function(){return-1!=window.location.hostname.indexOf("www.ilfattoquotidiano.it")&&jQuery(".FQG-nav-next").css("width","20%"),!1},Atomik.youMediaGallery=function(){return-1!=window.location.hostname.indexOf("youmedia.fanpage.it")&&(jQuery(".showArea.right").css("width","20%"),jQuery(".gradient.js-photo-info").css("z-index","-1")),!1},Atomik.sponsoredCheckTestVideo=function(){return-1!=window.location.href.indexOf("subito.it/accessori-auto/set-cerchi-gomme-invernali-per-renault-kadjar-monza-361699923.htm")},Atomik.subitoCheck=function(){if(-1!=window.location.hostname.indexOf("subito.it")){var e=window.location.pathname;if(-1!=e.indexOf("/auto/")||-1!=e.indexOf("/moto-e-scooter/")||-1!=e.indexOf("veicoli-commerciali")||-1!=e.indexOf("caravan-e-camper"))return!0}return!1},Atomik.sportNetworkMobileCheck=function(){var e=window.location.hostname;return-1!=e.indexOf("m.corrieredellosport.it")||-1!=e.indexOf("m.tuttosport.com")},Atomik.astCheck=function(){var e=window.location.href;return-1!=window.location.hostname.indexOf("subito.it")||-1!=e.indexOf("preview.atomikad.com/ast/")},Atomik.ItaliaOnRoadCheck=function(){return-1!=window.location.hostname.indexOf("www.italiaonroad.it")},Atomik.getSubitoSemantics=function(){var n=[];return jQuery(".vehicle-history ul li span").each(function(e,t){switch(jQuery(t).text()){case"Tipologia":case"Marca":case"Modello":case"Carburante":n.push({name:jQuery(t).siblings().text().trim().toLowerCase(),score:100})}}),n},Atomik.sanitizeCustomCluster=function(e){return e.replace(/[\u00B0\u00B2\u00B3\u00B9\u02AF\u0670\u0711\u2121\u213B\u2207\u29B5\uFC5B-\uFC5D\uFC63\uFC90\uFCD9\u2070\u2071\u2074-\u208E\u2090-\u209C\u0345\u0656\u17D2\u1D62-\u1D6A\u2A27\u2C7C\u00AA]+/,"")},Atomik.includeScript=function(e,t){var n=document.createElement("script");n.type="text/javascript",n.src=e,n.onload=t,document.body.appendChild(n)},Atomik.injectStyles=function(e){jQuery("<div />",{html:"&shy;<style>"+e+"</style>"}).appendTo("body")},Atomik.setDbmStyle=function(a){var e=document.querySelector("#"+a);new MutationObserver(function(e,t){e.forEach(function(e){jQuery("iframe");var t,n,o,i=jQuery("#"+a);0===i.length||0!==(t=i.find("Iframe")).length&&t[0].id.startsWith("adf_")&&(0===(n=jQuery(t.contents().find("div")[0])).length||!n[0].id.startsWith("google_ads_iframe")||0!==(o=n.find("Iframe")).length&&o[0].id.startsWith("google_ads_iframe")&&(t[0].style.width="100%",t[0].style.position="absolute",t[0].style.bottom="0",t.contents().find("body")[0].style.width="100%",n[0].style.width="100%",o[0].style.width="100%"))})}).observe(e,{childList:!0,attributes:!0,subtree:!0})},Atomik.getInstance=function(){return atomikInst},Atomik.track_audience=function(){var e=document.createElement("img");e.src="https://track.adform.net/Serving/TrackPoint/?pm=917458&lid=73540157",e.style.width="1px",e.style.height="1px",document.body.appendChild(e)};var privateSpotXPassback=function(e){e?Atomik.getInstance().consoleLog("ATOMIKSDK spotX AD done"):(Atomik.getInstance().consoleLog("ATOMIKSDK spotX passback"),window.top.Atomik.getInstance().passbackExternalCallback&&window.top.Atomik.getInstance().passbackExternalCallback("",""))},atomikInst=new Atomik;Atomik.doStart=function(){var e;window.jQuery?Atomik.atomikPrivateInit():((e=document.createElement("script")).type="text/javascript",e.src="https://code.jquery.com/jquery-1.12.4.min.js",e.onload=function(){Atomik.atomikPrivateInit()},document.body.appendChild(e))},"loading"==document.readyState?document.addEventListener("DOMContentLoaded",Atomik.doStart):Atomik.doStart();